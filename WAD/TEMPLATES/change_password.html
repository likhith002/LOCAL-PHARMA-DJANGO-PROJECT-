<!doctype html>
<html>

<head>
    {% load static %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'CSS/commoncss.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'CSS/login.css' %}" type="text/css">
    <link href="https://fonts.googleapis.com/css2?family=Catamaran&display=swap" rel="stylesheet">


<title> PASSWORD</title>

    <style>
        .nav_bar
{
    font-weight:0px;
    font-size:16px;
     font-family: Catamaran;
    float:right;
    display: block;
    padding: .5rem 1rem;


}
.nav_bar ul li a{
text-decoration:none


}
.nav_bar ul li
{
    float:left;
    list-style:none;
    margin:10px;

}
    </style>

</head>


<body>


    <header>
        <span style="margin-left: 50px ; margin-top:50px;" ><a href="homepage.html"><img  src="{% static 'IMAGES/logo.jpg' %}" width="200" height="200"></a>
             </span>

          <div class="nav_bar">

                    <ul >
                <li><i class="fa fa-home" aria-hidden="true"></i><a href="homepage.html">HOME</a></li>
                <li><a href="services.html">Services</a> </li>
                        <li><a href="contact.html">Contact Us</a></li>
                </ul>

                </div>
    </header>

    <main>

        <center>



            <h1 style="font-size:24px; margin-top:150px"> CHANGE YOUR PASSWORD </h1>

            <form class="box" action="change_password.html" method="POST">
                {% csrf_token %}


             <div>
                    {% for message in messages %}
                    <h4 style="font-size:20px">{{message}} </h4>
                    {% endfor%}

                </div>

                <br>
                <input class="username" type="password"  name="password1" placeholder="ENTER YOUR NEW PASSWORD"  required  minlength="8">

                <br>
                <input class="username" type="password"  name="password2" placeholder="CONFIRM YOUR NEW PASSWORD"  required  minlength="8">
                <br>

                <input  type="submit" name="" value="change password">



            </form>

        </center>

    </main>







            <script>


            let validity=false;
            let password_error = document.querySelector('#pass_error');
            function f1() {
                        const p1 = document.querySelector('#pass1');
                        const p2 = document.querySelector('#pass2');
                        // const password_error = document.querySelector('#pass_error');
                        if (p1.value === p2.value&& p1.value!==''&& p2.value!=='' ) {
                            p1.style.borderColor = 'green';
                            p2.style.borderColor = 'green';
                            p1.style.backgroundColor = '';
                            p2.style.backgroundColor = '';
                            // alert("done");
                            // password_error.style.color='black';
                            password_error.textContent = ""


                            // now check the validity of them
                            if (p1.validity.patternMismatch) {
                                p1.style.borderColor = 'red';
                                p2.style.borderColor = 'red';
                                p1.style.backgroundColor = '#ffb3b9';
                                p2.style.backgroundColor = '#ffb3b9';
                                password_error.style.color='red';
                                password_error.textContent = "Invalid password choose another!";
                                validity = false;
                            }
                            else
                                validity = true;

                        }
                        else if(p1.value===''||p2.value==='')
                        {
                            p1.style.borderColor = '';
                            p2.style.borderColor = '';
                            p1.style.backgroundColor = '';
                            p2.style.backgroundColor = '';
                            password_error.textContent=''
                            validity=false;
                        }
                        else {
                            p1.style.borderColor = 'red';
                            p2.style.borderColor = 'red';
                            p1.style.backgroundColor = '#ffb3b9';
                            p2.style.backgroundColor = '#ffb3b9';

                            password_error.style.color = 'red';
                            password_error.textContent = "The passwords entered don't match"

                            validity = false;
                        }
                    }

                    document.querySelector('#pass1').addEventListener('keyup', f1);
                    document.querySelector('#pass2').addEventListener('keyup', f1);

                    let orig_pass=document.querySelector("#pass_original");
                    password_error = document.querySelector('#pass_error');
                    orig_pass.addEventListener("keyup",()=>{
                        if(orig_pass.patternMismatch || orig_pass.type)
                        {
                            password_error.style.color="red";
                            password_error.textContent="Enter a valid password!"
                        }
                        else
                        {
                            password_error.textContent="";
                            orig_pass.style.borderColor="green";
                            orig_pass.style.backgroundColor="";
                        }
                    })


            </script>

        </center>

    </main>



    <footer style="margin-top:600px">
        <ul>
            <li><a href="services.html"> Services </a></li><br>
            <li><a href="contact.html">Contact Us</a></li><br>
            <li><a href="commonloginpage.html">LOGIN</a></li><br>

            <li><a href="#"> Register</a></li><br>
        </ul>

         <div class="footer_logo" style="margin-left: 0%; text-transform: uppercase; float:center ;margin-top:20px;text-align:center"><a href="homepage.html"><img src="{% static 'IMAGES/logo.jpg' %}" width="150" height="150"></a>


        </div>
      <div class="social_media" style="margin-left:1200px">
            <a href="#">

            <img src="{% static 'IMAGES/facebook_logo.png' %}" alt="" width="50" height="50" >
            </a><br>

            <a href="#">
            <img src="{% static 'IMAGES/twitter_logo.png' %}" alt="" width="50" height="50">
            </a><br>
            <a href="#">
            <img src="{% static 'IMAGES/instagram_logo.jfif' %}" alt="" width="50" height="50">
            </a>
        </div>
    </footer>



<br><br><br><br><br>
        <div style="margin-left:450px;color:white">  <p >This website is designed and developed by @localpharma</p>
                     <p>Copyrigths@2020localpharma</p>
        </div>
</body>




</html>